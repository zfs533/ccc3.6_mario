{"version":3,"sources":["file:///D:/CocosDashboard/resources/.editors/Creator/3.6.0/resources/app.asar.unpacked/modules/editor-extensions/extensions/localization-editor/node_modules/@formatjs/intl-relativetimeformat/abstract/PartitionRelativeTimePattern.js"],"names":["_cjsLoader","_req","__cjsMetaURL","_req0","_req1","url","define","exports","require","module","__filename","__dirname","Object","defineProperty","value","PartitionRelativeTimePattern","ecma402_abstract_1","SingularRelativeTimeUnit_1","MakePartsList_1","rtf","unit","_a","getInternalSlots","invariant","Type","concat","TypeError","isNaN","isFinite","RangeError","resolvedUnit","SingularRelativeTimeUnit","_b","fields","style","numeric","pluralRules","numberFormat","entry","patterns","ToString","type","tl","SameValue","po","fv","formatToParts","Math","abs","format","pr","select","pattern","MakePartsList","_cjsExports","___esModule","__esModule","_PartitionRelativeTimePattern"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from '@formatjs/ecma402-abstract';\nimport { __cjsMetaURL as _req0} from './SingularRelativeTimeUnit';\nimport { __cjsMetaURL as _req1} from './MakePartsList';\nlet _cjsExports;\nlet ___esModule;\nlet _PartitionRelativeTimePattern;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n \"use strict\";\n Object.defineProperty(exports, \"__esModule\", { value: true });\n exports.PartitionRelativeTimePattern = void 0;\n var ecma402_abstract_1 = require(\"@formatjs/ecma402-abstract\");\n var SingularRelativeTimeUnit_1 = require(\"./SingularRelativeTimeUnit\");\n var MakePartsList_1 = require(\"./MakePartsList\");\n function PartitionRelativeTimePattern(rtf, value, unit, _a) {\n     var getInternalSlots = _a.getInternalSlots;\n     (0, ecma402_abstract_1.invariant)((0, ecma402_abstract_1.Type)(value) === 'Number', \"value must be number, instead got \".concat(typeof value), TypeError);\n     (0, ecma402_abstract_1.invariant)((0, ecma402_abstract_1.Type)(unit) === 'String', \"unit must be number, instead got \".concat(typeof value), TypeError);\n     if (isNaN(value) || !isFinite(value)) {\n         throw new RangeError(\"Invalid value \".concat(value));\n     }\n     var resolvedUnit = (0, SingularRelativeTimeUnit_1.SingularRelativeTimeUnit)(unit);\n     var _b = getInternalSlots(rtf), fields = _b.fields, style = _b.style, numeric = _b.numeric, pluralRules = _b.pluralRules, numberFormat = _b.numberFormat;\n     var entry = resolvedUnit;\n     if (style === 'short') {\n         entry = \"\".concat(resolvedUnit, \"-short\");\n     }\n     else if (style === 'narrow') {\n         entry = \"\".concat(resolvedUnit, \"-narrow\");\n     }\n     if (!(entry in fields)) {\n         entry = resolvedUnit;\n     }\n     var patterns = fields[entry];\n     if (numeric === 'auto') {\n         if ((0, ecma402_abstract_1.ToString)(value) in patterns) {\n             return [\n                 {\n                     type: 'literal',\n                     value: patterns[(0, ecma402_abstract_1.ToString)(value)],\n                 },\n             ];\n         }\n     }\n     var tl = 'future';\n     if ((0, ecma402_abstract_1.SameValue)(value, -0) || value < 0) {\n         tl = 'past';\n     }\n     var po = patterns[tl];\n     var fv = typeof numberFormat.formatToParts === 'function'\n         ? numberFormat.formatToParts(Math.abs(value))\n         : // TODO: If formatToParts is not supported, we assume the whole formatted\n             // number is a part\n             [\n                 {\n                     type: 'literal',\n                     value: numberFormat.format(Math.abs(value)),\n                     unit: unit,\n                 },\n             ];\n     var pr = pluralRules.select(value);\n     var pattern = po[pr];\n     return (0, MakePartsList_1.MakePartsList)(pattern, resolvedUnit, fv);\n }\n exports.PartitionRelativeTimePattern = PartitionRelativeTimePattern;\n\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n___esModule = module.exports.__esModule;\n_PartitionRelativeTimePattern = module.exports.PartitionRelativeTimePattern;\n\n}, () => ({\n  '@formatjs/ecma402-abstract': _req,\n  './SingularRelativeTimeUnit': _req0,\n  './MakePartsList': _req1,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}