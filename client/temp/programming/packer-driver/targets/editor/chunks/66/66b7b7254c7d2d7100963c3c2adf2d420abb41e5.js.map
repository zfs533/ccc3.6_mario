{"version":3,"sources":["file:///E:/CocosCreator/mario/ccc3.6_mario/client/assets/script/framework/util.ts"],"names":["_decorator","Collider2D","RigidBody2D","ccclass","property","util","clone","sObj","s","constructor","Array","i","hasOwnProperty","objectToArray","srcObj","resultArr","key","push","arrayToObject","objectKey","resultObj","getWeightRandIndex","weightArr","totalWeight","randWeight","Math","floor","random","sum","weightIndex","length","getRandomNFromM","n","m","array","intRd","count","getRandomInt","flag","min","max","r","rr","getRandom","getStringLength","render","strArr","len","val","charCodeAt","ceil","isEmptyObject","obj","result","Object","isNewDay","dateValue","oldDate","Date","curDate","oldYear","getYear","oldMonth","getMonth","oldDay","getDate","curYear","curMonth","curDay","getPropertyCount","o","difference","diff","indexOf","_stringToArray","string","rsAstralRange","rsZWJ","rsVarRange","rsComboMarksRange","reComboHalfMarksRange","rsComboSymbolsRange","rsComboRange","reHasUnicode","RegExp","rsFitz","rsOptVar","rsCombo","rsModifier","reOptMod","rsAstral","rsNonAstral","rsRegional","rsSurrPair","rsOptJoin","join","rsSeq","rsSymbol","reUnicode","hasUnicode","test","unicodeToArray","match","asciiToArray","split","simulationUUID","s4","toString","substring","trim","str","replace","isNowValid","start","end","startTime","endTime","getDeltaDays","startYear","getFullYear","startMonth","startDate","endYear","endMonth","endDate","getTime","deltaTime","getMin","Number","formatTwoDigits","time","slice","formatDate","date","fmt","getHours","getMinutes","getSeconds","getMilliseconds","$1","substr","k","getDay","formatName","name","limit","nameArray","formatMoney","money","arrUnit","strValue","idx","formatValue","value","String","fromCharCode","formatTimeForSecond","leftSec","withoutSeconds","timeStr","sec","leftMin","hour","formatTimeForMillisecond","ms","second","minute","rand","arr","arrClone","randomIndex","itemIndex","getOffsetMimutes","offSetTime","formatNumToFixed","num","toFixed","lerp","targetValue","curValue","ratio","v","decrypt","b64Data","decodeData","_base64Decode","encrypt","_base64encode","encodeData","input","keyStr","output","chr1","chr2","chr3","enc1","enc2","enc3","enc4","_utf8Encode","isNaN","charAt","utftext","c","_utf8Decode","c1","c2","c3","shuffle","isArray","newArr","concat","sort","filterDifferentValue","arr1","arr2","filter","item","getBenchmarkLevel","window","wx","sys","getSystemInfoSync","isIOS","system","model","ultraLowPhoneType","lowPhoneType","middlePhoneType","highPhoneType","benchmarkLevel","checkIsLowPhone","checkBenchmark","getRandomItemFromArray","parseStringData","symbol","map","digit","getTwoNodeXZRadius","ndA","ndB","isLocal","aX","position","x","worldPosition","aZ","z","bX","bZ","radius","getTwoPosXZRadius","atan2","getTwoNodeXZLength","getTwoPosXZLength","sqrt","getRandomDirector","destoryPhysicCollider","collider","setTimeout","node","destroy","destoryPhysicRigidbody","rigidbody","setPhysicStatus","bool","getComponent","enabled"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node, Collider2D, RigidBody2D } from \"cc\";\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass(\"util\")\r\nexport class util {\r\n    /**\r\n     * !#zh 拷贝object。\r\n     */\r\n    /**\r\n     * 深度拷贝\r\n     * @param {any} sObj 拷贝的对象\r\n     * @returns \r\n     */\r\n    public static clone(sObj: any) {\r\n        if (sObj === null || typeof sObj !== \"object\") {\r\n            return sObj;\r\n        }\r\n\r\n        let s: { [key: string]: any } = {};\r\n        if (sObj.constructor === Array) {\r\n            s = [];\r\n        }\r\n\r\n        for (let i in sObj) {\r\n            if (sObj.hasOwnProperty(i)) {\r\n                s[i] = this.clone(sObj[i]);\r\n            }\r\n        }\r\n\r\n        return s;\r\n    }\r\n\r\n    /**\r\n     * 将object转化为数组\r\n     * @param { any} srcObj  \r\n     * @returns \r\n     */\r\n    public static objectToArray(srcObj: { [key: string]: any }) {\r\n\r\n        let resultArr: any[] = [];\r\n\r\n        // to array\r\n        for (let key in srcObj) {\r\n            if (!srcObj.hasOwnProperty(key)) {\r\n                continue;\r\n            }\r\n\r\n            resultArr.push(srcObj[key]);\r\n        }\r\n\r\n        return resultArr;\r\n    }\r\n\r\n    /**\r\n     * !#zh 将数组转化为object。\r\n     */\r\n    /**\r\n     * 将数组转化为object。\r\n     * @param { any} srcObj \r\n     * @param { string} objectKey \r\n     * @returns \r\n     */\r\n    public static arrayToObject(srcObj: any, objectKey: string) {\r\n\r\n        let resultObj: { [key: string]: any } = {};\r\n\r\n        // to object\r\n        for (var key in srcObj) {\r\n            if (!srcObj.hasOwnProperty(key) || !srcObj[key][objectKey]) {\r\n                continue;\r\n            }\r\n\r\n            resultObj[srcObj[key][objectKey]] = srcObj[key];\r\n        }\r\n\r\n        return resultObj;\r\n    }\r\n\r\n    /**\r\n     * 根据权重,计算随机内容\r\n     * @param {arrany} weightArr \r\n     * @param {number} totalWeight 权重\r\n     * @returns \r\n     */\r\n    public static getWeightRandIndex(weightArr: [], totalWeight: number) {\r\n        let randWeight: number = Math.floor(Math.random() * totalWeight);\r\n        let sum: number = 0;\r\n        for (var weightIndex: number = 0; weightIndex < weightArr.length; weightIndex++) {\r\n            sum += weightArr[weightIndex];\r\n            if (randWeight < sum) {\r\n                break;\r\n            }\r\n        }\r\n\r\n        return weightIndex;\r\n    }\r\n\r\n    /**\r\n     * 从n个数中获取m个随机数\r\n     * @param {Number} n   总数\r\n     * @param {Number} m    获取数\r\n     * @returns {Array} array   获取数列\r\n     */\r\n    public static getRandomNFromM(n: number, m: number) {\r\n        let array: any[] = [];\r\n        let intRd: number = 0;\r\n        let count: number = 0;\r\n\r\n        while (count < m) {\r\n            if (count >= n + 1) {\r\n                break;\r\n            }\r\n\r\n            intRd = this.getRandomInt(0, n);\r\n            var flag = 0;\r\n            for (var i = 0; i < count; i++) {\r\n                if (array[i] === intRd) {\r\n                    flag = 1;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (flag === 0) {\r\n                array[count] = intRd;\r\n                count++;\r\n            }\r\n        }\r\n\r\n        return array;\r\n    }\r\n\r\n    /**\r\n     * 获取随机整数\r\n     * @param {Number} min 最小值\r\n     * @param {Number} max 最大值\r\n     * @returns \r\n     */\r\n    public static getRandomInt(min: number, max: number) {\r\n        let r: number = Math.random();\r\n        let rr: number = r * (max - min + 1) + min;\r\n        return Math.floor(rr);\r\n    }\r\n\r\n    /**\r\n     * 获取随机数\r\n     * @param {Number} min 最小值\r\n     * @param {Number} max 最大值\r\n     * @returns \r\n     */\r\n    public static getRandom(min: number, max: number) {\r\n        return Math.random() * (max - min) + min;\r\n    }\r\n\r\n    /**\r\n     * 获取字符串长度\r\n     * @param {string} render \r\n     * @returns \r\n     */\r\n    public static getStringLength(render: string) {\r\n        let strArr: string = render;\r\n        let len: number = 0;\r\n        for (let i: number = 0, n = strArr.length; i < n; i++) {\r\n            let val: number = strArr.charCodeAt(i);\r\n            if (val <= 255) {\r\n                len = len + 1;\r\n            } else {\r\n                len = len + 2;\r\n            }\r\n        }\r\n\r\n        return Math.ceil(len / 2);\r\n    }\r\n\r\n    /**\r\n     * 判断传入的参数是否为空的Object。数组或undefined会返回false\r\n     * @param obj\r\n     */\r\n    public static isEmptyObject(obj: any) {\r\n        let result: boolean = true;\r\n        if (obj && obj.constructor === Object) {\r\n            for (var key in obj) {\r\n                if (obj.hasOwnProperty(key)) {\r\n                    result = false;\r\n                    break;\r\n                }\r\n            }\r\n        } else {\r\n            result = false;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * 判断是否是新的一天\r\n     * @param {Object|Number} dateValue 时间对象 todo MessageCenter 与 pve 相关的时间存储建议改为 Date 类型\r\n     * @returns {boolean}\r\n     */\r\n    public static isNewDay(dateValue: any) {\r\n        // todo：是否需要判断时区？\r\n        var oldDate: any = new Date(dateValue);\r\n        var curDate: any = new Date();\r\n\r\n        //@ts-ignore\r\n        var oldYear = oldDate.getYear();\r\n        var oldMonth = oldDate.getMonth();\r\n        var oldDay = oldDate.getDate();\r\n        //@ts-ignore\r\n        var curYear = curDate.getYear();\r\n        var curMonth = curDate.getMonth();\r\n        var curDay = curDate.getDate();\r\n\r\n        if (curYear > oldYear) {\r\n            return true;\r\n        } else {\r\n            if (curMonth > oldMonth) {\r\n                return true;\r\n            } else {\r\n                if (curDay > oldDay) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * 获取对象属性数量\r\n     * @param {object}o 对象\r\n     * @returns \r\n     */\r\n    public static getPropertyCount(o: Object) {\r\n        var n, count = 0;\r\n        for (n in o) {\r\n            if (o.hasOwnProperty(n)) {\r\n                count++;\r\n            }\r\n        }\r\n        return count;\r\n    }\r\n\r\n    /**\r\n     * 返回一个差异化数组（将array中diff里的值去掉）\r\n     * @param array\r\n     * @param diff\r\n     */\r\n    public static difference(array: [], diff: any) {\r\n        let result: any[] = [];\r\n        if (array.constructor !== Array || diff.constructor !== Array) {\r\n            return result;\r\n        }\r\n\r\n        let length = array.length;\r\n        for (let i: number = 0; i < length; i++) {\r\n            if (diff.indexOf(array[i]) === -1) {\r\n                result.push(array[i]);\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n\r\n    public static _stringToArray(string: string) {\r\n        // 用于判断emoji的正则们\r\n        var rsAstralRange = '\\\\ud800-\\\\udfff';\r\n        var rsZWJ = '\\\\u200d';\r\n        var rsVarRange = '\\\\ufe0e\\\\ufe0f';\r\n        var rsComboMarksRange = '\\\\u0300-\\\\u036f';\r\n        var reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f';\r\n        var rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff';\r\n        var rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange;\r\n        var reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange + rsComboRange + rsVarRange + ']');\r\n\r\n        var rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]';\r\n        var rsOptVar = '[' + rsVarRange + ']?';\r\n        var rsCombo = '[' + rsComboRange + ']';\r\n        var rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')';\r\n        var reOptMod = rsModifier + '?';\r\n        var rsAstral = '[' + rsAstralRange + ']';\r\n        var rsNonAstral = '[^' + rsAstralRange + ']';\r\n        var rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}';\r\n        var rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]';\r\n        var rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*';\r\n        var rsSeq = rsOptVar + reOptMod + rsOptJoin;\r\n        var rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\r\n        var reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\r\n\r\n        var hasUnicode = function (val: any) {\r\n            return reHasUnicode.test(val);\r\n        };\r\n\r\n        var unicodeToArray = function (val: any) {\r\n            return val.match(reUnicode) || [];\r\n        };\r\n\r\n        var asciiToArray = function (val: any) {\r\n            return val.split('');\r\n        };\r\n\r\n        return hasUnicode(string) ? unicodeToArray(string) : asciiToArray(string);\r\n    }\r\n\r\n    // 模拟传msg的uuid\r\n    public static simulationUUID() {\r\n        function s4() {\r\n            return Math.floor((1 + Math.random()) * 0x10000)\r\n                .toString(16)\r\n                .substring(1);\r\n        }\r\n\r\n        return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\r\n            s4() + '-' + s4() + s4() + s4();\r\n    }\r\n\r\n    public static trim(str: string) {\r\n        return str.replace(/(^\\s*)|(\\s*$)/g, \"\");\r\n    }\r\n\r\n    /**\r\n     * 判断当前时间是否在有效时间内\r\n     * @param {String|Number} start 起始时间。带有时区信息\r\n     * @param {String|Number} end 结束时间。带有时区信息\r\n     */\r\n    public static isNowValid(start: any, end: any) {\r\n        var startTime = new Date(start);\r\n        var endTime = new Date(end);\r\n        var result = false;\r\n\r\n        if (startTime.getDate() + '' !== 'NaN' && endTime.getDate() + '' !== 'NaN') {\r\n            var curDate = new Date();\r\n            result = curDate < endTime && curDate > startTime;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * 返回相隔天数\r\n     * @param start \r\n     * @param end \r\n     * @returns \r\n     */\r\n    public static getDeltaDays(start: any, end: any) {\r\n        start = new Date(start);\r\n        end = new Date(end);\r\n\r\n        let startYear: number = start.getFullYear();\r\n        let startMonth: number = start.getMonth() + 1;\r\n        let startDate: number = start.getDate();\r\n        let endYear: number = end.getFullYear();\r\n        let endMonth: number = end.getMonth() + 1;\r\n        let endDate: number = end.getDate();\r\n\r\n        start = new Date(startYear + '/' + startMonth + '/' + startDate + ' GMT+0800').getTime();\r\n        end = new Date(endYear + '/' + endMonth + '/' + endDate + ' GMT+0800').getTime();\r\n\r\n        let deltaTime = end - start;\r\n        return Math.floor(deltaTime / (24 * 60 * 60 * 1000));\r\n    }\r\n\r\n    /**\r\n     * 获取数组最小值\r\n     * @param array 数组\r\n     * @returns \r\n     */\r\n    public static getMin(array: number[]) {\r\n        let result: number = null!;\r\n        if (array.constructor === Array) {\r\n            let length = array.length;\r\n            for (let i = 0; i < length; i++) {\r\n                if (i === 0) {\r\n                    result = Number(array[0]);\r\n                } else {\r\n                    result = result > Number(array[i]) ? Number(array[i]) : result;\r\n                }\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * 格式化两位小数点\r\n     * @param time \r\n     * @returns \r\n     */\r\n    public static formatTwoDigits(time: number) {\r\n        //@ts-ignore\r\n        return (Array(2).join(0) + time).slice(-2);\r\n    }\r\n\r\n    /**\r\n     * 根据格式返回时间\r\n     * @param date  时间\r\n     * @param fmt 格式\r\n     * @returns \r\n     */\r\n    public static formatDate(date: Date, fmt: string) {\r\n        let o = {\r\n            \"M+\": date.getMonth() + 1, //月份\r\n            \"d+\": date.getDate(), //日\r\n            \"h+\": date.getHours(), //小时\r\n            \"m+\": date.getMinutes(), //分\r\n            \"s+\": date.getSeconds(), //秒\r\n            \"q+\": Math.floor((date.getMonth() + 3) / 3), //季度\r\n            \"S\": date.getMilliseconds() //毫秒\r\n        };\r\n        if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (date.getFullYear() + \"\").substr(4 - RegExp.$1.length));\r\n        for (let k in o)\r\n            //@ts-ignore\r\n            if (new RegExp(\"(\" + k + \")\").test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length === 1) ? (o[k]) : ((\"00\" + o[k]).substr((\"\" + o[k]).length)));\r\n        return fmt;\r\n    }\r\n\r\n    /**\r\n     * 获取格式化后的日期（不含小时分秒）\r\n     */\r\n    public static getDay() {\r\n        let date: Date = new Date();\r\n\r\n        return date.getFullYear() + '-' + (date.getMonth() + 1) + '-' + date.getDate();\r\n    }\r\n\r\n    /**\r\n     * 格式化名字，XXX...\r\n     * @param {string} name 需要格式化的字符串 \r\n     * @param {number}limit \r\n     * @returns {string} 返回格式化后的字符串XXX...\r\n     */\r\n    public static formatName(name: string, limit: number) {\r\n        limit = limit || 6;\r\n        var nameArray = this._stringToArray(name);\r\n        var str = '';\r\n        var length = nameArray.length;\r\n        if (length > limit) {\r\n            for (var i = 0; i < limit; i++) {\r\n                str += nameArray[i];\r\n            }\r\n\r\n            str += '...';\r\n        } else {\r\n            str = name;\r\n        }\r\n\r\n        return str;\r\n    }\r\n\r\n    /**\r\n     * 格式化钱数，超过10000 转换位 10K   10000K 转换为 10M\r\n     * @param {number}money 需要被格式化的数值\r\n     * @returns {string}返回 被格式化的数值\r\n     */\r\n    public static formatMoney(money: number) {\r\n        let arrUnit: string[] = ['', 'K', 'M', 'G', 'T', 'P', 'E', 'Z', 'Y', 'B', 'N', 'D'];\r\n\r\n        let strValue: string = '';\r\n        for (let idx: number = 0; idx < arrUnit.length; idx++) {\r\n            if (money >= 10000) {\r\n                money /= 1000;\r\n            } else {\r\n                strValue = Math.floor(money) + arrUnit[idx];\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (strValue === '') {\r\n            strValue = Math.floor(money) + 'U'; //超过最大值就加个U\r\n        }\r\n\r\n        return strValue;\r\n    }\r\n\r\n    /**\r\n     * 格式化数值\r\n     * @param {number}value 需要被格式化的数值\r\n     * @returns {string}返回 被格式化的数值\r\n     */\r\n    public static formatValue(value: number) {\r\n        let arrUnit: string[] = [];\r\n        let strValue: string = '';\r\n        for (let i = 0; i < 26; i++) {\r\n            arrUnit.push(String.fromCharCode(97 + i));\r\n        }\r\n\r\n        for (let idx: number = 0; idx < arrUnit.length; idx++) {\r\n            if (value >= 10000) {\r\n                value /= 1000;\r\n            } else {\r\n                strValue = Math.floor(value) + arrUnit[idx];\r\n                break;\r\n            }\r\n        }\r\n\r\n        return strValue;\r\n    }\r\n\r\n    /**\r\n     * 根据剩余秒数格式化剩余时间 返回 HH:MM:SS\r\n     * @param {Number} leftSec \r\n     */\r\n    public static formatTimeForSecond(leftSec: number, withoutSeconds: boolean = false) {\r\n        let timeStr: string = '';\r\n        let sec: number = leftSec % 60;\r\n\r\n        let leftMin: number = Math.floor(leftSec / 60);\r\n        leftMin = leftMin < 0 ? 0 : leftMin;\r\n\r\n        let hour: number = Math.floor(leftMin / 60);\r\n        let min: number = leftMin % 60;\r\n\r\n        if (hour > 0) {\r\n            timeStr += hour > 9 ? hour.toString() : '0' + hour;\r\n            timeStr += ':';\r\n        } else {\r\n            timeStr += '00:';\r\n        }\r\n\r\n        timeStr += min > 9 ? min.toString() : '0' + min;\r\n\r\n        if (!withoutSeconds) {\r\n            timeStr += ':';\r\n            timeStr += sec > 9 ? sec.toString() : '0' + sec;\r\n        }\r\n\r\n        return timeStr;\r\n    }\r\n\r\n    /**\r\n     *  根据剩余毫秒数格式化剩余时间 返回 HH:MM:SS\r\n     *\r\n     * @param {Number} ms\r\n     */\r\n    public static formatTimeForMillisecond(ms: number): Object {\r\n        let second: number = Math.floor(ms / 1000 % 60);\r\n        let minute: number = Math.floor(ms / 1000 / 60 % 60);\r\n        let hour: number = Math.floor(ms / 1000 / 60 / 60);\r\n        return { 'hour': hour, 'minute': minute, 'second': second };\r\n    }\r\n\r\n    /**\r\n     * 将数组内容进行随机排列\r\n     * @param {Array}arr 需要被随机的数组 \r\n     * @returns \r\n     */\r\n    public static rand(arr: []): [] {\r\n        let arrClone = this.clone(arr);\r\n        // 首先从最大的数开始遍历，之后递减\r\n        for (let i: number = arrClone.length - 1; i >= 0; i--) {\r\n            // 随机索引值randomIndex是从0-arrClone.length中随机抽取的\r\n            const randomIndex: number = Math.floor(Math.random() * (i + 1));\r\n            // 下面三句相当于把从数组中随机抽取到的值与当前遍历的值互换位置\r\n            const itemIndex: number = arrClone[randomIndex];\r\n            arrClone[randomIndex] = arrClone[i];\r\n            arrClone[i] = itemIndex;\r\n        }\r\n        // 每一次的遍历都相当于把从数组中随机抽取（不重复）的一个元素放到数组的最后面（索引顺序为：len-1,len-2,len-3......0）\r\n        return arrClone;\r\n    }\r\n\r\n    /**\r\n     * 获得开始和结束两者之间相隔分钟数\r\n     *\r\n     * @static\r\n     * @param {number} start\r\n     * @param {number} end\r\n     * @memberof Util\r\n     */\r\n    public static getOffsetMimutes(start: number, end: number) {\r\n        let offSetTime: number = end - start;\r\n        let minute: number = Math.floor((offSetTime % (1000 * 60 * 60)) / (1000 * 60));\r\n        return minute;\r\n    }\r\n\r\n    /**\r\n     * 返回指定小数位的数值\r\n     * @param {number} num \r\n     * @param {number} idx \r\n     */\r\n    public static formatNumToFixed(num: number, idx: number = 0) {\r\n        return Number(num.toFixed(idx));\r\n    }\r\n\r\n    /**\r\n     * 用于数值到达另外一个目标数值之间进行平滑过渡运动效果\r\n     * @param {number} targetValue 目标数值 \r\n     * @param {number} curValue 当前数值\r\n     * @param {number} ratio    过渡比率\r\n     * @returns \r\n     */\r\n    public static lerp(targetValue: number, curValue: number, ratio: number = 0.25) {\r\n        let v: number = curValue;\r\n        if (targetValue > curValue) {\r\n            v = curValue + (targetValue - curValue) * ratio;\r\n        } else if (targetValue < curValue) {\r\n            v = curValue - (curValue - targetValue) * ratio;\r\n        }\r\n\r\n        return v;\r\n    }\r\n\r\n    /**\r\n     * 数据解密\r\n     * @param {String} str \r\n     */\r\n    public static decrypt(b64Data: string) {\r\n        let n: number = 6;\r\n        if (b64Data.length % 2 === 0) {\r\n            n = 7;\r\n        }\r\n\r\n        let decodeData = '';\r\n        for (var idx = 0; idx < b64Data.length - n; idx += 2) {\r\n            decodeData += b64Data[idx + 1];\r\n            decodeData += b64Data[idx];\r\n        }\r\n\r\n        decodeData += b64Data.slice(b64Data.length - n + 1);\r\n\r\n        decodeData = this._base64Decode(decodeData);\r\n\r\n        return decodeData;\r\n    }\r\n\r\n    /**\r\n * 数据加密\r\n * @param {String} str \r\n */\r\n    public static encrypt(str: string) {\r\n        let b64Data = this._base64encode(str);\r\n\r\n        let n: number = 6;\r\n        if (b64Data.length % 2 === 0) {\r\n            n = 7;\r\n        }\r\n\r\n        let encodeData: string = '';\r\n\r\n        for (let idx = 0; idx < (b64Data.length - n + 1) / 2; idx++) {\r\n            encodeData += b64Data[2 * idx + 1];\r\n            encodeData += b64Data[2 * idx];\r\n        }\r\n\r\n        encodeData += b64Data.slice(b64Data.length - n + 1);\r\n\r\n        return encodeData;\r\n    }\r\n\r\n    //public method for encoding\r\n    /**\r\n     * base64加密\r\n     * @param {string}input \r\n     * @returns \r\n     */\r\n    private static _base64encode(input: string) {\r\n        let keyStr: string = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\r\n        let output: string = \"\", chr1: number, chr2: number, chr3: number, enc1: number, enc2: number, enc3: number, enc4: number, i: number = 0;\r\n        input = this._utf8Encode(input);\r\n        while (i < input.length) {\r\n            chr1 = input.charCodeAt(i++);\r\n            chr2 = input.charCodeAt(i++);\r\n            chr3 = input.charCodeAt(i++);\r\n            enc1 = chr1 >> 2;\r\n            enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\r\n            enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\r\n            enc4 = chr3 & 63;\r\n            if (isNaN(chr2)) {\r\n                enc3 = enc4 = 64;\r\n            } else if (isNaN(chr3)) {\r\n                enc4 = 64;\r\n            }\r\n            output = output +\r\n                keyStr.charAt(enc1) + keyStr.charAt(enc2) +\r\n                keyStr.charAt(enc3) + keyStr.charAt(enc4);\r\n        }\r\n        return output;\r\n    }\r\n\r\n    /**\r\n     * utf-8 加密\r\n     * @param string \r\n     * @returns \r\n     */\r\n    private static _utf8Encode(string: string) {\r\n        string = string.replace(/\\r\\n/g, \"\\n\");\r\n        let utftext: string = \"\";\r\n        for (let n: number = 0; n < string.length; n++) {\r\n            let c: number = string.charCodeAt(n);\r\n            if (c < 128) {\r\n                utftext += String.fromCharCode(c);\r\n            } else if ((c > 127) && (c < 2048)) {\r\n                utftext += String.fromCharCode((c >> 6) | 192);\r\n                utftext += String.fromCharCode((c & 63) | 128);\r\n            } else {\r\n                utftext += String.fromCharCode((c >> 12) | 224);\r\n                utftext += String.fromCharCode(((c >> 6) & 63) | 128);\r\n                utftext += String.fromCharCode((c & 63) | 128);\r\n            }\r\n\r\n        }\r\n        return utftext;\r\n    }\r\n\r\n    /**\r\n     * utf-8解密\r\n     * @param utftext \r\n     * @returns \r\n     */\r\n    private static _utf8Decode(utftext: string) {\r\n        let string = \"\";\r\n        let i: number = 0;\r\n        let c: number = 0;\r\n        let c1: number = 0;\r\n        let c2: number = 0;\r\n        let c3: number = 0;\r\n        while (i < utftext.length) {\r\n            c = utftext.charCodeAt(i);\r\n            if (c < 128) {\r\n                string += String.fromCharCode(c);\r\n                i++;\r\n            } else if ((c > 191) && (c < 224)) {\r\n                c2 = utftext.charCodeAt(i + 1);\r\n                string += String.fromCharCode(((c & 31) << 6) | (c2 & 63));\r\n                i += 2;\r\n            } else {\r\n                c2 = utftext.charCodeAt(i + 1);\r\n                c3 = utftext.charCodeAt(i + 2);\r\n                string += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));\r\n                i += 3;\r\n            }\r\n        }\r\n        return string;\r\n    }\r\n\r\n    /**\r\n     * base64解密\r\n     * @param {string}input 解密字符串\r\n     * @returns \r\n     */\r\n    private static _base64Decode(input: string) {\r\n        let keyStr: string = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\r\n        let output: string = \"\";\r\n        let chr1: number;\r\n        let chr2: number;\r\n        let chr3: number;\r\n        let enc1: number;\r\n        let enc2: number;\r\n        let enc3: number;\r\n        let enc4: number;\r\n        let i: number = 0;\r\n        input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\r\n        while (i < input.length) {\r\n            enc1 = keyStr.indexOf(input.charAt(i++));\r\n            enc2 = keyStr.indexOf(input.charAt(i++));\r\n            enc3 = keyStr.indexOf(input.charAt(i++));\r\n            enc4 = keyStr.indexOf(input.charAt(i++));\r\n            chr1 = (enc1 << 2) | (enc2 >> 4);\r\n            chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\r\n            chr3 = ((enc3 & 3) << 6) | enc4;\r\n            output = output + String.fromCharCode(chr1);\r\n            if (enc3 != 64) {\r\n                output = output + String.fromCharCode(chr2);\r\n            }\r\n            if (enc4 != 64) {\r\n                output = output + String.fromCharCode(chr3);\r\n            }\r\n        }\r\n        output = this._utf8Decode(output);\r\n        return output;\r\n    }\r\n\r\n    /**\r\n     * 洗牌函数\r\n     *\r\n     * @static\r\n     * @param {*} arr\r\n     * @returns\r\n     * @memberof util\r\n     */\r\n    public static shuffle(arr: any) {\r\n        if (Array.isArray(arr)) {\r\n            let newArr: any = arr.concat();\r\n            newArr.sort(() => { return 0.5 - Math.random() });\r\n            return newArr;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 两个数值数组取相同的值，返回一个新数组\r\n     *\r\n     * @static\r\n     * @param {number[]} arr1\r\n     * @param {number[]} arr2\r\n     * @returns\r\n     * @memberof util\r\n     */\r\n    public static filterDifferentValue(arr1: number[], arr2: number[]) {\r\n        let arr: number[] = [];\r\n        arr = arr1.filter((item: number) => {\r\n            return arr2.indexOf(item) !== -1;\r\n        })\r\n\r\n        return arr;\r\n    }\r\n\r\n    /**\r\n     * 获取性能等级\r\n     * -Android\r\n     * 设备性能等级，取值为：\r\n     * -2 或 0（该设备无法运行小游戏）\r\n     * -1（性能未知）\r\n     * >=1（设备性能值，该值越高，设备性能越好，目前最高不到50)\r\n     * -IOS\r\n     * 微信不支持IO性能等级\r\n     * iPhone 5s 及以下\r\n     * 设定为超低端机 benchmarkLevel = 5\r\n     * iPhone 6 ～ iPhone SE\r\n     * 设定为超低端机 benchmarkLevel = 15\r\n     * iPhone 7 ~ iPhone X\r\n     * 设定为中端机 benchmarkLevel = 25\r\n     * iPhone XS 及以上\r\n     * 设定为高端机 benchmarkLevel = 40\r\n     * -H5或其他\r\n     * -1（性能未知）\r\n     */\r\n    public static getBenchmarkLevel(): Number {\r\n        //@ts-ignore\r\n        if (window.wx) {\r\n            //@ts-ignore\r\n            const sys = window.wx.getSystemInfoSync();\r\n            const isIOS = sys.system.indexOf('iOS') >= 0;\r\n            if (isIOS) {\r\n                const model = sys.model;\r\n                // iPhone 5s 及以下\r\n                const ultraLowPhoneType = ['iPhone1,1', 'iPhone1,2', 'iPhone2,1', 'iPhone3,1', 'iPhone3,3', 'iPhone4,1', 'iPhone5,1', 'iPhone5,2', 'iPhone5,3', 'iPhone5,4', 'iPhone6,1', 'iPhone6,2'];\r\n                // iPhone 6 ~ iPhone SE\r\n                const lowPhoneType = ['iPhone6,2', 'iPhone7,1', 'iPhone7,2', 'iPhone8,1', 'iPhone8,2', 'iPhone8,4'];\r\n                // iPhone 7 ~ iPhone X\r\n                const middlePhoneType = ['iPhone9,1', 'iPhone9,2', 'iPhone9,3', 'iPhone9,4', 'iPhone10,1', 'iPhone10,2', 'iPhone10,3', 'iPhone10,4', 'iPhone10,5', 'iPhone10,6'];\r\n                // iPhone XS 及以上\r\n                const highPhoneType = ['iPhone11,2', 'iPhone11,4', 'iPhone11,6', 'iPhone11,8', 'iPhone12,1', 'iPhone12,3', 'iPhone12,5', 'iPhone12,8'];\r\n                for (let i = 0; i < ultraLowPhoneType.length; i++) {\r\n                    if (model.indexOf(ultraLowPhoneType[i]) >= 0)\r\n                        return 5;\r\n                }\r\n                for (let i = 0; i < lowPhoneType.length; i++) {\r\n                    if (model.indexOf(lowPhoneType[i]) >= 0)\r\n                        return 10;\r\n                }\r\n                for (let i = 0; i < middlePhoneType.length; i++) {\r\n                    if (model.indexOf(middlePhoneType[i]) >= 0)\r\n                        return 20;\r\n                }\r\n                for (let i = 0; i < highPhoneType.length; i++) {\r\n                    if (model.indexOf(highPhoneType[i]) >= 0)\r\n                        return 30;\r\n                }\r\n                return -1;\r\n            } else {\r\n                return sys.benchmarkLevel;\r\n            }\r\n        } else {\r\n            return 50;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 低端机判断\r\n     */\r\n    public static checkIsLowPhone() {\r\n        let checkBenchmark = 22; //判断低端机的性能等级\r\n\r\n        return util.getBenchmarkLevel() < checkBenchmark\r\n    }\r\n\r\n    /**\r\n     * 获取数组中随机一个元素\r\n     * @param arr \r\n     * @returns \r\n     */\r\n    public static getRandomItemFromArray(arr: any[]) {\r\n        return arr[Math.floor(Math.random() * arr.length)];\r\n    }\r\n\r\n    /**\r\n     * 解析数据表带有#或者,连接的数据\r\n     *\r\n     * @static\r\n     * @param {string} str\r\n     * @param {string} [symbol=\"#\"]\r\n     * @return {*} \r\n     * @memberof util\r\n     */\r\n    public static parseStringData(str: string, symbol: string = \"#\"): any[] {\r\n        let arr: any[] = str.split(symbol);\r\n        return arr.map((item: any) => {\r\n            return Number(item);\r\n        })\r\n    }\r\n\r\n    /**\r\n     * 返回精确到若干位数的数值\r\n     *\r\n     * @static\r\n     * @param {number} v\r\n     * @param {number} digit\r\n     * @memberof util\r\n     */\r\n    public static toFixed(v: number, digit: number = 2) {\r\n        return Number(v.toFixed(digit));\r\n    }\r\n\r\n    /**\r\n     * 获取两个节点的xz坐标的弧度\r\n     *\r\n     * @static\r\n     * @param {Node} ndA\r\n     * @param {Node} ndB\r\n     * @param {boolean} [isLocal=false] 是否为本地坐标，反之为世界坐标\r\n     * @return {*} \r\n     * @memberof util\r\n     */\r\n    public static getTwoNodeXZRadius(ndA: Node, ndB: Node, isLocal: boolean = false) {\r\n        const aX = isLocal ? ndA.position.x : ndA.worldPosition.x;\r\n        const aZ = isLocal ? ndA.position.z : ndA.worldPosition.z;\r\n        const bX = isLocal ? ndB.position.x : ndB.worldPosition.x;\r\n        const bZ = isLocal ? ndB.position.z : ndB.worldPosition.z;\r\n        let radius = this.getTwoPosXZRadius(aX, bX, aZ, bZ);\r\n        return radius;\r\n    }\r\n\r\n    /**\r\n     * 获取两个坐标zx分量的弧度\r\n     *\r\n     * @static\r\n     * @param {number} aX\r\n     * @param {number} aZ\r\n     * @param {number} bX\r\n     * @param {number} bZ\r\n     * @returns\r\n     * @memberof util\r\n     */\r\n    public static getTwoPosXZRadius(aX: number, aZ: number, bX: number, bZ: number) {\r\n        return Math.atan2(aX - bX, aZ - bZ);\r\n    }\r\n\r\n    /**\r\n     * 获取两个节点坐标在xz轴的距离\r\n     *\r\n     * @static\r\n     * @param {Node} ndA\r\n     * @param {Node} ndB\r\n     * @param {boolean} [isLocal=false] 是否为本地坐标，反之为世界坐标\r\n     * @return {*} \r\n     * @memberof util\r\n     */\r\n    public static getTwoNodeXZLength(ndA: Node, ndB: Node, isLocal: boolean = false) {\r\n        const aX = isLocal ? ndA.position.x : ndA.worldPosition.x;\r\n        const aZ = isLocal ? ndA.position.z : ndA.worldPosition.z;\r\n        const bX = isLocal ? ndB.position.x : ndB.worldPosition.x;\r\n        const bZ = isLocal ? ndB.position.z : ndB.worldPosition.z;\r\n        return this.getTwoPosXZLength(aX, aZ, bX, bZ);\r\n    }\r\n\r\n    /**\r\n     * 获取两个坐标在xz轴的距离\r\n     * \r\n     * @static\r\n     * @param {number} aX\r\n     * @param {number} aZ\r\n     * @param {number} bX\r\n     * @param {number} bZ\r\n     * @return {*} \r\n     * @memberof util\r\n     */\r\n    public static getTwoPosXZLength(aX: number, aZ: number, bX: number, bZ: number) {\r\n        const x = aX - bX;\r\n        const z = aZ - bZ;\r\n        return Math.sqrt(x * x + z * z);\r\n    }\r\n\r\n    /***\r\n     * 返回随机方向\r\n     */\r\n    public static getRandomDirector() {\r\n        let v = Math.random();\r\n        return v > 0.5 ? 1 : -1\r\n    }\r\n\r\n    /**\r\n     * 销毁碰撞体积物体\r\n     * @param collider \r\n     */\r\n    public static destoryPhysicCollider(collider:Collider2D){\r\n        if(collider){\r\n            setTimeout(()=>{\r\n                collider.node.destroy();\r\n            },100);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 销毁刚体物体\r\n     * @param rigidbody \r\n     */\r\n    public static destoryPhysicRigidbody(rigidbody:RigidBody2D){\r\n        if(rigidbody){\r\n            setTimeout(()=>{\r\n                rigidbody.node.destroy();\r\n            },100);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 取消和恢复物理刚体碰撞体属性\r\n     * \r\n     * @param node \r\n     * @param bool \r\n     */\r\n    public static setPhysicStatus(node:Node,bool:boolean = true){\r\n        let collider = node.getComponent(Collider2D);\r\n        let rigidbody = node.getComponent(RigidBody2D)\r\n        if(collider && rigidbody){\r\n            setTimeout(()=>{\r\n                collider.enabled = bool;\r\n                rigidbody.enabled = bool;\r\n            },100);\r\n        }\r\n    }\r\n}"]}