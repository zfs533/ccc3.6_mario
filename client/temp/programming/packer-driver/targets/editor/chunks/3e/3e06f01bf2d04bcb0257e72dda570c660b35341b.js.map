{"version":3,"sources":["file:///D:/CocosDashboard/resources/.editors/Creator/3.6.0/resources/app.asar.unpacked/modules/editor-extensions/extensions/localization-editor/node_modules/@formatjs/intl-relativetimeformat/abstract/InitializeRelativeTimeFormat.js"],"names":["_cjsLoader","_req","__cjsMetaURL","_req0","url","define","exports","require","module","__filename","__dirname","Object","defineProperty","value","InitializeRelativeTimeFormat","ecma402_abstract_1","intl_localematcher_1","NUMBERING_SYSTEM_REGEX","rtf","locales","options","_a","getInternalSlots","availableLocales","relevantExtensionKeys","localeData","getDefaultLocale","internalSlots","initializedRelativeTimeFormat","requestedLocales","CanonicalizeLocaleList","opt","create","opts","CoerceOptionsToObject","matcher","GetOption","localeMatcher","numberingSystem","undefined","test","RangeError","concat","nu","r","ResolveLocale","locale","style","numeric","fields","dataLocale","invariant","numberFormat","Intl","NumberFormat","pluralRules","PluralRules","_cjsExports","___esModule","__esModule","_InitializeRelativeTimeFormat"],"mappings":";;;;;;;;;AAAOA,MAAAA,U;;AACkBC,MAAAA,I,4BAAhBC,Y;;AACgBC,MAAAA,K,8BAAhBD,Y;;;8BAIHA,Y,GAAe,cAAYE,G;;AACjCJ,MAAAA,UAAU,CAACK,MAAX,CAAkBH,YAAlB,EAAgC,UAAUI,OAAV,EAAmBC,OAAnB,EAA4BC,MAA5B,EAAoCC,UAApC,EAAgDC,SAAhD,EAA2D;AAC3F;AAGC;;AACAC,QAAAA,MAAM,CAACC,cAAP,CAAsBN,OAAtB,EAA+B,YAA/B,EAA6C;AAAEO,UAAAA,KAAK,EAAE;AAAT,SAA7C;AACAP,QAAAA,OAAO,CAACQ,4BAAR,GAAuC,KAAK,CAA5C;;AACA,YAAIC,kBAAkB,GAAGR,OAAO,CAAC,4BAAD,CAAhC;;AACA,YAAIS,oBAAoB,GAAGT,OAAO,CAAC,8BAAD,CAAlC;;AACA,YAAIU,sBAAsB,GAAG,mCAA7B;;AACA,iBAASH,4BAAT,CAAsCI,GAAtC,EAA2CC,OAA3C,EAAoDC,OAApD,EAA6DC,EAA7D,EAAiE;AAC7D,cAAIC,gBAAgB,GAAGD,EAAE,CAACC,gBAA1B;AAAA,cAA4CC,gBAAgB,GAAGF,EAAE,CAACE,gBAAlE;AAAA,cAAoFC,qBAAqB,GAAGH,EAAE,CAACG,qBAA/G;AAAA,cAAsIC,UAAU,GAAGJ,EAAE,CAACI,UAAtJ;AAAA,cAAkKC,gBAAgB,GAAGL,EAAE,CAACK,gBAAxL;AACA,cAAIC,aAAa,GAAGL,gBAAgB,CAACJ,GAAD,CAApC;AACAS,UAAAA,aAAa,CAACC,6BAAd,GAA8C,IAA9C;AACA,cAAIC,gBAAgB,GAAG,CAAC,GAAGd,kBAAkB,CAACe,sBAAvB,EAA+CX,OAA/C,CAAvB;AACA,cAAIY,GAAG,GAAGpB,MAAM,CAACqB,MAAP,CAAc,IAAd,CAAV;AACA,cAAIC,IAAI,GAAG,CAAC,GAAGlB,kBAAkB,CAACmB,qBAAvB,EAA8Cd,OAA9C,CAAX;AACA,cAAIe,OAAO,GAAG,CAAC,GAAGpB,kBAAkB,CAACqB,SAAvB,EAAkCH,IAAlC,EAAwC,eAAxC,EAAyD,QAAzD,EAAmE,CAAC,UAAD,EAAa,QAAb,CAAnE,EAA2F,UAA3F,CAAd;AACAF,UAAAA,GAAG,CAACM,aAAJ,GAAoBF,OAApB;AACA,cAAIG,eAAe,GAAG,CAAC,GAAGvB,kBAAkB,CAACqB,SAAvB,EAAkCH,IAAlC,EACtB;AACA,2BAFsB,EAEH,QAFG,EAEOM,SAFP,EAEkBA,SAFlB,CAAtB;;AAGA,cAAID,eAAe,KAAKC,SAAxB,EAAmC;AAC/B,gBAAI,CAACtB,sBAAsB,CAACuB,IAAvB,CAA4BF,eAA5B,CAAL,EAAmD;AAC/C,oBAAM,IAAIG,UAAJ,CAAe,4BAA4BC,MAA5B,CAAmCJ,eAAnC,CAAf,CAAN;AACH;AACJ;;AACDP,UAAAA,GAAG,CAACY,EAAJ,GAASL,eAAT;AACA,cAAIM,CAAC,GAAG,CAAC,GAAG5B,oBAAoB,CAAC6B,aAAzB,EAAwCtB,gBAAxC,EAA0DM,gBAA1D,EAA4EE,GAA5E,EAAiFP,qBAAjF,EAAwGC,UAAxG,EAAoHC,gBAApH,CAAR;AACA,cAAIoB,MAAM,GAAGF,CAAC,CAACE,MAAf;AAAA,cAAuBH,EAAE,GAAGC,CAAC,CAACD,EAA9B;AACAhB,UAAAA,aAAa,CAACmB,MAAd,GAAuBA,MAAvB;AACAnB,UAAAA,aAAa,CAACoB,KAAd,GAAsB,CAAC,GAAGhC,kBAAkB,CAACqB,SAAvB,EAAkCH,IAAlC,EAAwC,OAAxC,EAAiD,QAAjD,EAA2D,CAAC,MAAD,EAAS,QAAT,EAAmB,OAAnB,CAA3D,EAAwF,MAAxF,CAAtB;AACAN,UAAAA,aAAa,CAACqB,OAAd,GAAwB,CAAC,GAAGjC,kBAAkB,CAACqB,SAAvB,EAAkCH,IAAlC,EAAwC,SAAxC,EAAmD,QAAnD,EAA6D,CAAC,QAAD,EAAW,MAAX,CAA7D,EAAiF,QAAjF,CAAxB;AACA,cAAIgB,MAAM,GAAGxB,UAAU,CAACmB,CAAC,CAACM,UAAH,CAAvB;AACA,WAAC,GAAGnC,kBAAkB,CAACoC,SAAvB,EAAkC,CAAC,CAACF,MAApC,EAA4C,2BAA2BP,MAA3B,CAAkCE,CAAC,CAACM,UAApC,CAA5C;AACAvB,UAAAA,aAAa,CAACsB,MAAd,GAAuBA,MAAvB;AACAtB,UAAAA,aAAa,CAACyB,YAAd,GAA6B,IAAIC,IAAI,CAACC,YAAT,CAAsBnC,OAAtB,CAA7B;AACAQ,UAAAA,aAAa,CAAC4B,WAAd,GAA4B,IAAIF,IAAI,CAACG,WAAT,CAAqBrC,OAArB,CAA5B;AACAQ,UAAAA,aAAa,CAACW,eAAd,GAAgCK,EAAhC;AACA,iBAAOzB,GAAP;AACH;;AACDZ,QAAAA,OAAO,CAACQ,4BAAR,GAAuCA,4BAAvC,CAzC0F,CA4C3F;;AAEA,2BAAA2C,WAAW,GAAGjD,MAAM,CAACF,OAArB;;AACAoD,QAAAA,WAAW,GAAGlD,MAAM,CAACF,OAAP,CAAeqD,UAA7B;AACAC,QAAAA,6BAA6B,GAAGpD,MAAM,CAACF,OAAP,CAAeQ,4BAA/C;AAEC,OAlDD,EAkDG,OAAO;AACR,sCAA8Bb,IADtB;AAER,wCAAgCE;AAFxB,OAAP,CAlDH","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from '@formatjs/ecma402-abstract';\nimport { __cjsMetaURL as _req0} from '@formatjs/intl-localematcher';\nlet _cjsExports;\nlet ___esModule;\nlet _InitializeRelativeTimeFormat;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n \"use strict\";\n Object.defineProperty(exports, \"__esModule\", { value: true });\n exports.InitializeRelativeTimeFormat = void 0;\n var ecma402_abstract_1 = require(\"@formatjs/ecma402-abstract\");\n var intl_localematcher_1 = require(\"@formatjs/intl-localematcher\");\n var NUMBERING_SYSTEM_REGEX = /^[a-z0-9]{3,8}(-[a-z0-9]{3,8})*$/i;\n function InitializeRelativeTimeFormat(rtf, locales, options, _a) {\n     var getInternalSlots = _a.getInternalSlots, availableLocales = _a.availableLocales, relevantExtensionKeys = _a.relevantExtensionKeys, localeData = _a.localeData, getDefaultLocale = _a.getDefaultLocale;\n     var internalSlots = getInternalSlots(rtf);\n     internalSlots.initializedRelativeTimeFormat = true;\n     var requestedLocales = (0, ecma402_abstract_1.CanonicalizeLocaleList)(locales);\n     var opt = Object.create(null);\n     var opts = (0, ecma402_abstract_1.CoerceOptionsToObject)(options);\n     var matcher = (0, ecma402_abstract_1.GetOption)(opts, 'localeMatcher', 'string', ['best fit', 'lookup'], 'best fit');\n     opt.localeMatcher = matcher;\n     var numberingSystem = (0, ecma402_abstract_1.GetOption)(opts, \n     // @ts-expect-error TS option is wack\n     'numberingSystem', 'string', undefined, undefined);\n     if (numberingSystem !== undefined) {\n         if (!NUMBERING_SYSTEM_REGEX.test(numberingSystem)) {\n             throw new RangeError(\"Invalid numbering system \".concat(numberingSystem));\n         }\n     }\n     opt.nu = numberingSystem;\n     var r = (0, intl_localematcher_1.ResolveLocale)(availableLocales, requestedLocales, opt, relevantExtensionKeys, localeData, getDefaultLocale);\n     var locale = r.locale, nu = r.nu;\n     internalSlots.locale = locale;\n     internalSlots.style = (0, ecma402_abstract_1.GetOption)(opts, 'style', 'string', ['long', 'narrow', 'short'], 'long');\n     internalSlots.numeric = (0, ecma402_abstract_1.GetOption)(opts, 'numeric', 'string', ['always', 'auto'], 'always');\n     var fields = localeData[r.dataLocale];\n     (0, ecma402_abstract_1.invariant)(!!fields, \"Missing locale data for \".concat(r.dataLocale));\n     internalSlots.fields = fields;\n     internalSlots.numberFormat = new Intl.NumberFormat(locales);\n     internalSlots.pluralRules = new Intl.PluralRules(locales);\n     internalSlots.numberingSystem = nu;\n     return rtf;\n }\n exports.InitializeRelativeTimeFormat = InitializeRelativeTimeFormat;\n\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n___esModule = module.exports.__esModule;\n_InitializeRelativeTimeFormat = module.exports.InitializeRelativeTimeFormat;\n\n}, () => ({\n  '@formatjs/ecma402-abstract': _req,\n  '@formatjs/intl-localematcher': _req0,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}