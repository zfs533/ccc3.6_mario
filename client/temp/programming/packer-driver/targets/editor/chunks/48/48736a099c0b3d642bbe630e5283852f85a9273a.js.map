{"version":3,"sources":["file:///D:/CocosDashboard/resources/.editors/Creator/3.6.0/resources/app.asar.unpacked/modules/editor-extensions/extensions/localization-editor/node_modules/@formatjs/intl-getcanonicallocales/src/canonicalizer.js"],"names":["_cjsLoader","_req","__cjsMetaURL","_req0","_req1","_req2","_req3","url","define","exports","require","module","__filename","__dirname","Object","defineProperty","value","canonicalizeUnicodeLocaleId","canonicalizeUnicodeLanguageId","tslib_1","aliases_generated_1","parser_1","likelySubtags_generated_1","emitter_1","canonicalizeAttrs","strs","keys","reduce","all","str","toLowerCase","sort","canonicalizeKVs","arr","result","_i","arr_1","length","kv","push","compareKV","t1","t2","compareExtension","e1","e2","type","mergeVariants","v1","v2","__spreadArray","v2_1","v","indexOf","unicodeLanguageId","finalLangAst","variants","replacedLang_1","_a","variant","languageAlias","emitUnicodeLanguageId","lang","replacedLangAst","parseUnicodeLanguageId","split","SEPARATOR","script","region","replacedLang_2","replacedLang_3","replacedLang","toUpperCase","regionAlias","territoryAlias","replacedRegion","regions","likelySubtag","likelySubtags","likelyRegion","slice","scriptAlias","i","variantAlias","alias","isUnicodeVariantSubtag","isUnicodeLanguageSubtag","locale","extensions","extension","keywords","attributes","fields","_cjsExports","___esModule","__esModule","_canonicalizeUnicodeLocaleId","_canonicalizeUnicodeLanguageId"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from 'tslib';\nimport { __cjsMetaURL as _req0} from './aliases.generated';\nimport { __cjsMetaURL as _req1} from './parser';\nimport { __cjsMetaURL as _req2} from './likelySubtags.generated';\nimport { __cjsMetaURL as _req3} from './emitter';\nlet _cjsExports;\nlet ___esModule;\nlet _canonicalizeUnicodeLocaleId;\nlet _canonicalizeUnicodeLanguageId;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n \"use strict\";\n Object.defineProperty(exports, \"__esModule\", { value: true });\n exports.canonicalizeUnicodeLocaleId = exports.canonicalizeUnicodeLanguageId = void 0;\n var tslib_1 = require(\"tslib\");\n var aliases_generated_1 = require(\"./aliases.generated\");\n var parser_1 = require(\"./parser\");\n var likelySubtags_generated_1 = require(\"./likelySubtags.generated\");\n var emitter_1 = require(\"./emitter\");\n function canonicalizeAttrs(strs) {\n     return Object.keys(strs.reduce(function (all, str) {\n         all[str.toLowerCase()] = 1;\n         return all;\n     }, {})).sort();\n }\n function canonicalizeKVs(arr) {\n     var all = {};\n     var result = [];\n     for (var _i = 0, arr_1 = arr; _i < arr_1.length; _i++) {\n         var kv = arr_1[_i];\n         if (kv[0] in all) {\n             continue;\n         }\n         all[kv[0]] = 1;\n         if (!kv[1] || kv[1] === 'true') {\n             result.push([kv[0].toLowerCase()]);\n         }\n         else {\n             result.push([kv[0].toLowerCase(), kv[1].toLowerCase()]);\n         }\n     }\n     return result.sort(compareKV);\n }\n function compareKV(t1, t2) {\n     return t1[0] < t2[0] ? -1 : t1[0] > t2[0] ? 1 : 0;\n }\n function compareExtension(e1, e2) {\n     return e1.type < e2.type ? -1 : e1.type > e2.type ? 1 : 0;\n }\n function mergeVariants(v1, v2) {\n     var result = (0, tslib_1.__spreadArray)([], v1, true);\n     for (var _i = 0, v2_1 = v2; _i < v2_1.length; _i++) {\n         var v = v2_1[_i];\n         if (v1.indexOf(v) < 0) {\n             result.push(v);\n         }\n     }\n     return result;\n }\n /**\n  * CAVEAT: We don't do this section in the spec bc they have no JSON data\n  * Use the bcp47 data to replace keys, types, tfields, and tvalues by their canonical forms. See Section 3.6.4 U Extension Data Files) and Section 3.7.1 T Extension Data Files. The aliases are in the alias attribute value, while the canonical is in the name attribute value. For example,\n Because of the following bcp47 data:\n <key name=\"ms\"…>…<type name=\"uksystem\" … alias=\"imperial\" … />…</key>\n We get the following transformation:\n en-u-ms-imperial ⇒ en-u-ms-uksystem\n  * @param lang\n  */\n function canonicalizeUnicodeLanguageId(unicodeLanguageId) {\n     /**\n      * If the language subtag matches the type attribute of a languageAlias element in Supplemental Data, replace the language subtag with the replacement value.\n      *  1. If there are additional subtags in the replacement value, add them to the result, but only if there is no corresponding subtag already in the tag.\n      *  2. Five special deprecated grandfathered codes (such as i-default) are in type attributes, and are also replaced.\n      */\n     // From https://github.com/unicode-org/icu/blob/master/icu4j/main/classes/core/src/com/ibm/icu/util/ULocale.java#L1246\n     // Try language _ variant\n     var finalLangAst = unicodeLanguageId;\n     if (unicodeLanguageId.variants.length) {\n         var replacedLang_1 = '';\n         for (var _i = 0, _a = unicodeLanguageId.variants; _i < _a.length; _i++) {\n             var variant = _a[_i];\n             if ((replacedLang_1 =\n                 aliases_generated_1.languageAlias[(0, emitter_1.emitUnicodeLanguageId)({\n                     lang: unicodeLanguageId.lang,\n                     variants: [variant],\n                 })])) {\n                 var replacedLangAst = (0, parser_1.parseUnicodeLanguageId)(replacedLang_1.split(parser_1.SEPARATOR));\n                 finalLangAst = {\n                     lang: replacedLangAst.lang,\n                     script: finalLangAst.script || replacedLangAst.script,\n                     region: finalLangAst.region || replacedLangAst.region,\n                     variants: mergeVariants(finalLangAst.variants, replacedLangAst.variants),\n                 };\n                 break;\n             }\n         }\n     }\n     // language _ script _ country\n     // ug-Arab-CN -> ug-CN\n     if (finalLangAst.script && finalLangAst.region) {\n         var replacedLang_2 = aliases_generated_1.languageAlias[(0, emitter_1.emitUnicodeLanguageId)({\n             lang: finalLangAst.lang,\n             script: finalLangAst.script,\n             region: finalLangAst.region,\n             variants: [],\n         })];\n         if (replacedLang_2) {\n             var replacedLangAst = (0, parser_1.parseUnicodeLanguageId)(replacedLang_2.split(parser_1.SEPARATOR));\n             finalLangAst = {\n                 lang: replacedLangAst.lang,\n                 script: replacedLangAst.script,\n                 region: replacedLangAst.region,\n                 variants: finalLangAst.variants,\n             };\n         }\n     }\n     // language _ country\n     // eg. az_AZ -> az_Latn_A\n     if (finalLangAst.region) {\n         var replacedLang_3 = aliases_generated_1.languageAlias[(0, emitter_1.emitUnicodeLanguageId)({\n             lang: finalLangAst.lang,\n             region: finalLangAst.region,\n             variants: [],\n         })];\n         if (replacedLang_3) {\n             var replacedLangAst = (0, parser_1.parseUnicodeLanguageId)(replacedLang_3.split(parser_1.SEPARATOR));\n             finalLangAst = {\n                 lang: replacedLangAst.lang,\n                 script: finalLangAst.script || replacedLangAst.script,\n                 region: replacedLangAst.region,\n                 variants: finalLangAst.variants,\n             };\n         }\n     }\n     // only language\n     // e.g. twi -> ak\n     var replacedLang = aliases_generated_1.languageAlias[(0, emitter_1.emitUnicodeLanguageId)({\n         lang: finalLangAst.lang,\n         variants: [],\n     })];\n     if (replacedLang) {\n         var replacedLangAst = (0, parser_1.parseUnicodeLanguageId)(replacedLang.split(parser_1.SEPARATOR));\n         finalLangAst = {\n             lang: replacedLangAst.lang,\n             script: finalLangAst.script || replacedLangAst.script,\n             region: finalLangAst.region || replacedLangAst.region,\n             variants: finalLangAst.variants,\n         };\n     }\n     if (finalLangAst.region) {\n         var region = finalLangAst.region.toUpperCase();\n         var regionAlias = aliases_generated_1.territoryAlias[region];\n         var replacedRegion = void 0;\n         if (regionAlias) {\n             var regions = regionAlias.split(' ');\n             replacedRegion = regions[0];\n             var likelySubtag = likelySubtags_generated_1.likelySubtags[(0, emitter_1.emitUnicodeLanguageId)({\n                 lang: finalLangAst.lang,\n                 script: finalLangAst.script,\n                 variants: [],\n             })];\n             if (likelySubtag) {\n                 var likelyRegion = (0, parser_1.parseUnicodeLanguageId)(likelySubtag.split(parser_1.SEPARATOR)).region;\n                 if (likelyRegion && regions.indexOf(likelyRegion) > -1) {\n                     replacedRegion = likelyRegion;\n                 }\n             }\n         }\n         if (replacedRegion) {\n             finalLangAst.region = replacedRegion;\n         }\n         finalLangAst.region = finalLangAst.region.toUpperCase();\n     }\n     if (finalLangAst.script) {\n         finalLangAst.script =\n             finalLangAst.script[0].toUpperCase() +\n                 finalLangAst.script.slice(1).toLowerCase();\n         if (aliases_generated_1.scriptAlias[finalLangAst.script]) {\n             finalLangAst.script = aliases_generated_1.scriptAlias[finalLangAst.script];\n         }\n     }\n     if (finalLangAst.variants.length) {\n         for (var i = 0; i < finalLangAst.variants.length; i++) {\n             var variant = finalLangAst.variants[i].toLowerCase();\n             if (aliases_generated_1.variantAlias[variant]) {\n                 var alias = aliases_generated_1.variantAlias[variant];\n                 if ((0, parser_1.isUnicodeVariantSubtag)(alias)) {\n                     finalLangAst.variants[i] = alias;\n                 }\n                 else if ((0, parser_1.isUnicodeLanguageSubtag)(alias)) {\n                     // Yes this can happen per the spec\n                     finalLangAst.lang = alias;\n                 }\n             }\n         }\n         finalLangAst.variants.sort();\n     }\n     return finalLangAst;\n }\n exports.canonicalizeUnicodeLanguageId = canonicalizeUnicodeLanguageId;\n /**\n  * Canonicalize based on\n  * https://www.unicode.org/reports/tr35/tr35.html#Canonical_Unicode_Locale_Identifiers\n  * https://tc39.es/ecma402/#sec-canonicalizeunicodelocaleid\n  * IMPORTANT: This modifies the object inline\n  * @param locale\n  */\n function canonicalizeUnicodeLocaleId(locale) {\n     locale.lang = canonicalizeUnicodeLanguageId(locale.lang);\n     if (locale.extensions) {\n         for (var _i = 0, _a = locale.extensions; _i < _a.length; _i++) {\n             var extension = _a[_i];\n             switch (extension.type) {\n                 case 'u':\n                     extension.keywords = canonicalizeKVs(extension.keywords);\n                     if (extension.attributes) {\n                         extension.attributes = canonicalizeAttrs(extension.attributes);\n                     }\n                     break;\n                 case 't':\n                     if (extension.lang) {\n                         extension.lang = canonicalizeUnicodeLanguageId(extension.lang);\n                     }\n                     extension.fields = canonicalizeKVs(extension.fields);\n                     break;\n                 default:\n                     extension.value = extension.value.toLowerCase();\n                     break;\n             }\n         }\n         locale.extensions.sort(compareExtension);\n     }\n     return locale;\n }\n exports.canonicalizeUnicodeLocaleId = canonicalizeUnicodeLocaleId;\n\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n___esModule = module.exports.__esModule;\n_canonicalizeUnicodeLocaleId = module.exports.canonicalizeUnicodeLocaleId;\n_canonicalizeUnicodeLanguageId = module.exports.canonicalizeUnicodeLanguageId;\n\n}, () => ({\n  'tslib': _req,\n  './aliases.generated': _req0,\n  './parser': _req1,\n  './likelySubtags.generated': _req2,\n  './emitter': _req3,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}