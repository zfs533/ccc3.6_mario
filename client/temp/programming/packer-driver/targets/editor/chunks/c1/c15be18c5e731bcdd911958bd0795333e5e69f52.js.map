{"version":3,"sources":["file:///D:/CocosDashboard/resources/.editors/Creator/3.6.0/resources/app.asar.unpacked/modules/editor-extensions/extensions/localization-editor/static/assets/components/l10n-component.ts"],"names":["_decorator","Component","Label","EDITOR","ccclass","property","disallowMultiple","requireComponent","menu","L10nComponent","readonly","constructor","label","undefined","string","onLoad","node","getComponent","start","render","preview","value","originalString","_string","updateRenderData","cce","Engine","repaintInEditMode"],"mappings":";;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,K,OAAAA,K;;AAEvBC,MAAAA,M,UAAAA,M;;;;;;;;;OAEH;AACFC,QAAAA,OADE;AAEFC,QAAAA,QAFE;AAGFC,QAAAA,gBAHE;AAIFC,QAAAA,gBAJE;AAKFC,QAAAA;AALE,O,GAMFR,U;;yBAM0BS,a,WAJ7BL,OAAO,CAAC,eAAD,C,UACPG,gBAAgB,CAACL,KAAD,C,UAChBI,gBAAgB,E,UAChBE,IAAI,CAAC,yCAAD,C,UAMAH,QAAQ,CAAC;AAAEK,QAAAA,QAAQ,EAAE;AAAZ,OAAD,C,wEATb,MAI8BD,aAJ9B,SAIoDR,SAJpD,CAI8D;AAChDU,QAAAA,WAAW,GAAG;AACpB;AADoB,eAQxBC,KARwB,GAQDC,SARC;AAEvB;;AAGS,YAANC,MAAM,GAAG;AAAA;;AACT,iBAAO,qBAAKF,KAAL,iCAAYE,MAAZ,KAAsB,EAA7B;AACH;;AAGSC,QAAAA,MAAM,GAAG;AACf,eAAKH,KAAL,GAAa,KAAKI,IAAL,CAAUC,YAAV,CAAuBf,KAAvB,CAAb;AACH;;AAESgB,QAAAA,KAAK,GAAG;AACd,eAAKC,MAAL;AACH;;AAEMA,QAAAA,MAAM,GAAG,CAAE;;AAEXC,QAAAA,OAAO,CAACC,KAAD,EAAgB;AAC1B,cAAI,KAAKT,KAAL,IAAcT,MAAlB,EAA0B;AACtB,kBAAMmB,cAAc,GAAG,KAAKV,KAAL,CAAWE,MAAlC,CADsB,CAEtB;AACA;;AACA,iBAAKF,KAAL,CAAWW,OAAX,GAAqBF,KAArB;AACA,iBAAKT,KAAL,CAAWY,gBAAX,CAA4B,IAA5B,EALsB,CAMtB;AACA;;AACAC,YAAAA,GAAG,CAACC,MAAJ,CAAWC,iBAAX,GARsB,CAStB;AACA;;AACA,iBAAKf,KAAL,CAAWW,OAAX,GAAqBD,cAArB;AACH;AACJ;;AAnCyD,O","sourcesContent":["import { _decorator, Component, Label, Node } from 'cc';\n// @ts-ignore\nimport { EDITOR } from 'cc/env';\n\nconst {\n    ccclass,\n    property,\n    disallowMultiple,\n    requireComponent,\n    menu,\n} = _decorator;\n\n@ccclass('L10nComponent')\n@requireComponent(Label)\n@disallowMultiple()\n@menu('hidden:LocalizationEditor/L10nComponent')\nexport default abstract class L10nComponent extends Component {\n    protected constructor() {\n        super();\n    }\n\n    @property({ readonly: true })\n    get string() {\n        return this.label?.string || '';\n    }\n    label?: Label | null = undefined;\n\n    protected onLoad() {\n        this.label = this.node.getComponent(Label);\n    }\n\n    protected start() {\n        this.render();\n    }\n\n    public render() {}\n\n    public preview(value: string) {\n        if (this.label && EDITOR) {\n            const originalString = this.label.string;\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n            // @ts-ignore\n            this.label._string = value;\n            this.label.updateRenderData(true);\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n            // @ts-ignore\n            cce.Engine.repaintInEditMode();\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n            // @ts-ignore\n            this.label._string = originalString;\n        }\n    }\n}\n"]}