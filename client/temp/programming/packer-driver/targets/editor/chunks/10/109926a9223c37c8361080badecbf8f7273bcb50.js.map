{"version":3,"sources":["file:///E:/CocosCreator/mario/ccc3.6_mario/client/assets/script/game/ui/uiManager.ts"],"names":["_decorator","Component","tween","UIOpacity","director","clientEvent","Constant","resourceUtil","roleManager","ccclass","property","uiManager","start","on","EVENT_TYPE","TranslateScenes","evtTranslateScens","_init","onDestroy","off","node","getComponent","to","opacity","call","loadScene","roleMgr","Inst","level_data","mapData","createMap","map","createUI"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,Q,OAAAA,Q;;AAE/CC,MAAAA,W,iBAAAA,W;;AACAC,MAAAA,Q,iBAAAA,Q;;AACAC,MAAAA,Y,iBAAAA,Y;;AACAC,MAAAA,W,iBAAAA,W;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBV,U;;2BAGjBW,S,WADZF,OAAO,CAAC,WAAD,C,gBAAR,MACaE,SADb,SAC+BV,SAD/B,CACyC;AACrCW,QAAAA,KAAK,GAAG;AACJ;AAAA;AAAA,0CAAYC,EAAZ,CAAe;AAAA;AAAA,oCAASC,UAAT,CAAoBC,eAAnC,EAAmD,KAAKC,iBAAxD,EAA0E,IAA1E;;AACA,eAAKC,KAAL;AACH;;AAEDC,QAAAA,SAAS,GAAE;AACP;AAAA;AAAA,0CAAYC,GAAZ,CAAgB;AAAA;AAAA,oCAASL,UAAT,CAAoBC,eAApC,EAAoD,KAAKC,iBAAzD,EAA2E,IAA3E;AACH;;AAEDA,QAAAA,iBAAiB,GAAE;AACfd,UAAAA,KAAK,CAAC,KAAKkB,IAAL,CAAUC,YAAV,CAAuBlB,SAAvB,CAAD,CAAL,CAAyCmB,EAAzC,CAA4C,CAA5C,EAA8C;AAACC,YAAAA,OAAO,EAAC;AAAT,WAA9C,EAA2DC,IAA3D,CAAgE,MAAI;AAChEpB,YAAAA,QAAQ,CAACqB,SAAT,CAAmB,WAAnB;AACH,WAFD,EAEGb,KAFH;AAGH;;AAEDK,QAAAA,KAAK,GAAE;AACH,cAAIS,OAAO,GAAG;AAAA;AAAA,0CAAYC,IAA1B;AACA,cAAIC,UAAU,GAAG;AAAA;AAAA,0CAAYD,IAAZ,CAAiBE,OAAlC,CAFG,CAEsC;;AACzC;AAAA;AAAA,4CAAaC,SAAb,CAAuBF,UAAU,CAACG,GAAlC,EAAsC,MAAI;AACtC;AAAA;AAAA,8CAAaC,QAAb,CAAsB,UAAtB,EAAiC,MAAI,CAAE,CAAvC,EAAwC,KAAKZ,IAA7C;AACH,WAFD,EAEE,KAAKA,IAFP;AAGH;;AAtBoC,O","sourcesContent":["import { _decorator, Component, Node, tween, UIOpacity, director } from 'cc';\r\nimport cfgLevel from '../../config/cfgLevel';\r\nimport { clientEvent } from '../../framework/clientEvent';\r\nimport { Constant } from '../../framework/constant';\r\nimport { resourceUtil } from '../../framework/resourceUtil';\r\nimport { roleManager } from '../roles/roleManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('uiManager')\r\nexport class uiManager extends Component {\r\n    start() {\r\n        clientEvent.on(Constant.EVENT_TYPE.TranslateScenes,this.evtTranslateScens,this);\r\n        this._init();\r\n    }\r\n\r\n    onDestroy(){\r\n        clientEvent.off(Constant.EVENT_TYPE.TranslateScenes,this.evtTranslateScens,this);\r\n    }\r\n\r\n    evtTranslateScens(){\r\n        tween(this.node.getComponent(UIOpacity)).to(1,{opacity:0}).call(()=>{\r\n            director.loadScene(\"translate\");\r\n        }).start();\r\n    }\r\n\r\n    _init(){\r\n        let roleMgr = roleManager.Inst;\r\n        let level_data = roleManager.Inst.mapData//cfgLevel.data[roleMgr.bigLevel][roleMgr.smallLevel][roleMgr.sonLevel];\r\n        resourceUtil.createMap(level_data.map,()=>{\r\n            resourceUtil.createUI(\"joystick\",()=>{},this.node);\r\n        },this.node);\r\n    }\r\n}\r\n\r\n"]}