{"version":3,"sources":["file:///D:/CocosDashboard/resources/.editors/Creator/3.6.0/resources/app.asar.unpacked/modules/editor-extensions/extensions/localization-editor/node_modules/@formatjs/intl-datetimeformat/src/abstract/BasicFormatMatcher.js"],"names":["_cjsLoader","_req","__cjsMetaURL","_req0","_req1","url","define","exports","require","module","__filename","__dirname","Object","defineProperty","value","BasicFormatMatcher","tslib_1","ecma402_abstract_1","utils_1","options","formats","bestScore","Infinity","bestFormat","invariant","Array","isArray","_i","formats_1","length","format","score","_a","DATE_TIME_PROPS_1","DATE_TIME_PROPS","prop","optionsProp","formatProp","undefined","additionPenalty","removalPenalty","values","optionsPropIndex","indexOf","formatPropIndex","delta","Math","max","min","longMorePenalty","shortMorePenalty","shortLessPenalty","longLessPenalty","__assign","_cjsExports","___esModule","__esModule","_BasicFormatMatcher"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from 'tslib';\nimport { __cjsMetaURL as _req0} from '@formatjs/ecma402-abstract';\nimport { __cjsMetaURL as _req1} from './utils';\nlet _cjsExports;\nlet ___esModule;\nlet _BasicFormatMatcher;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n \"use strict\";\n Object.defineProperty(exports, \"__esModule\", { value: true });\n exports.BasicFormatMatcher = void 0;\n var tslib_1 = require(\"tslib\");\n var ecma402_abstract_1 = require(\"@formatjs/ecma402-abstract\");\n var utils_1 = require(\"./utils\");\n /**\n  * https://tc39.es/ecma402/#sec-basicformatmatcher\n  * @param options\n  * @param formats\n  */\n function BasicFormatMatcher(options, formats) {\n     var bestScore = -Infinity;\n     var bestFormat = formats[0];\n     (0, ecma402_abstract_1.invariant)(Array.isArray(formats), 'formats should be a list of things');\n     for (var _i = 0, formats_1 = formats; _i < formats_1.length; _i++) {\n         var format = formats_1[_i];\n         var score = 0;\n         for (var _a = 0, DATE_TIME_PROPS_1 = utils_1.DATE_TIME_PROPS; _a < DATE_TIME_PROPS_1.length; _a++) {\n             var prop = DATE_TIME_PROPS_1[_a];\n             var optionsProp = options[prop];\n             var formatProp = format[prop];\n             if (optionsProp === undefined && formatProp !== undefined) {\n                 score -= utils_1.additionPenalty;\n             }\n             else if (optionsProp !== undefined && formatProp === undefined) {\n                 score -= utils_1.removalPenalty;\n             }\n             else if (optionsProp !== formatProp) {\n                 var values = void 0;\n                 if (prop === 'fractionalSecondDigits') {\n                     values = [1, 2, 3];\n                 }\n                 else {\n                     values = ['2-digit', 'numeric', 'narrow', 'short', 'long'];\n                 }\n                 var optionsPropIndex = values.indexOf(optionsProp);\n                 var formatPropIndex = values.indexOf(formatProp);\n                 var delta = Math.max(-2, Math.min(formatPropIndex - optionsPropIndex, 2));\n                 if (delta === 2) {\n                     score -= utils_1.longMorePenalty;\n                 }\n                 else if (delta === 1) {\n                     score -= utils_1.shortMorePenalty;\n                 }\n                 else if (delta === -1) {\n                     score -= utils_1.shortLessPenalty;\n                 }\n                 else if (delta === -2) {\n                     score -= utils_1.longLessPenalty;\n                 }\n             }\n         }\n         if (score > bestScore) {\n             bestScore = score;\n             bestFormat = format;\n         }\n     }\n     return (0, tslib_1.__assign)({}, bestFormat);\n }\n exports.BasicFormatMatcher = BasicFormatMatcher;\n\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n___esModule = module.exports.__esModule;\n_BasicFormatMatcher = module.exports.BasicFormatMatcher;\n\n}, () => ({\n  'tslib': _req,\n  '@formatjs/ecma402-abstract': _req0,\n  './utils': _req1,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}