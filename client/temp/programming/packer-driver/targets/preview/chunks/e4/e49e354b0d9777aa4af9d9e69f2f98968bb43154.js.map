{"version":3,"sources":["file:///D:/CocosDashboard/resources/.editors/Creator/3.6.0/resources/app.asar.unpacked/modules/editor-extensions/extensions/localization-editor/node_modules/@formatjs/ecma402-abstract/NumberFormat/ToRawFixed.js"],"names":["_cjsLoader","_req","__cjsMetaURL","url","define","exports","require","module","__filename","__dirname","Object","defineProperty","value","ToRawFixed","utils_1","x","minFraction","maxFraction","f","n","Math","round","pow","xFinal","m","toString","_a","split","mantissa","exponent","replace","repeat","max","length","int","k","z","a","slice","b","concat","cut","formattedString","roundedNumber","integerDigitsCount","_cjsExports","___esModule","__esModule","_ToRawFixed"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from '../utils';\nlet _cjsExports;\nlet ___esModule;\nlet _ToRawFixed;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n \"use strict\";\n Object.defineProperty(exports, \"__esModule\", { value: true });\n exports.ToRawFixed = void 0;\n var utils_1 = require(\"../utils\");\n /**\n  * TODO: dedup with intl-pluralrules and support BigInt\n  * https://tc39.es/ecma402/#sec-torawfixed\n  * @param x a finite non-negative Number or BigInt\n  * @param minFraction and integer between 0 and 20\n  * @param maxFraction and integer between 0 and 20\n  */\n function ToRawFixed(x, minFraction, maxFraction) {\n     var f = maxFraction;\n     var n = Math.round(x * Math.pow(10, f));\n     var xFinal = n / Math.pow(10, f);\n     // n is a positive integer, but it is possible to be greater than 1e21.\n     // In such case we will go the slow path.\n     // See also: https://tc39.es/ecma262/#sec-numeric-types-number-tostring\n     var m;\n     if (n < 1e21) {\n         m = n.toString();\n     }\n     else {\n         m = n.toString();\n         var _a = m.split('e'), mantissa = _a[0], exponent = _a[1];\n         m = mantissa.replace('.', '');\n         m = m + (0, utils_1.repeat)('0', Math.max(+exponent - m.length + 1, 0));\n     }\n     var int;\n     if (f !== 0) {\n         var k = m.length;\n         if (k <= f) {\n             var z = (0, utils_1.repeat)('0', f + 1 - k);\n             m = z + m;\n             k = f + 1;\n         }\n         var a = m.slice(0, k - f);\n         var b = m.slice(k - f);\n         m = \"\".concat(a, \".\").concat(b);\n         int = a.length;\n     }\n     else {\n         int = m.length;\n     }\n     var cut = maxFraction - minFraction;\n     while (cut > 0 && m[m.length - 1] === '0') {\n         m = m.slice(0, -1);\n         cut--;\n     }\n     if (m[m.length - 1] === '.') {\n         m = m.slice(0, -1);\n     }\n     return { formattedString: m, roundedNumber: xFinal, integerDigitsCount: int };\n }\n exports.ToRawFixed = ToRawFixed;\n\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n___esModule = module.exports.__esModule;\n_ToRawFixed = module.exports.ToRawFixed;\n\n}, () => ({\n  '../utils': _req,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}